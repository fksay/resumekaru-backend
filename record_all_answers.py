import sounddevice as sd
import wavio
import time

# List of questions (for prompt display only)
questions = [
    "1. рдЖрдкрдХрд╛ рдкреВрд░рд╛ рдирд╛рдо рдХреНрдпрд╛ рд╣реИ?",
    "2. рдЖрдкрдХреА рдИрдореЗрд▓ рдЖрдИрдбреА рдФрд░ рдореЛрдмрд╛рдЗрд▓ рдирдВрдмрд░ рдХреНрдпрд╛ рд╣реИ?",
    "3. рдЖрдк рдХрд┐рд╕ рд╢рд╣рд░ рдпрд╛ рд╕реНрдерд╛рди рдореЗрдВ рд░рд╣рддреЗ рд╣реИрдВ?",
    "4. рдЖрдкрдиреЗ рд╕рдмрд╕реЗ рдЙрдЪреНрдЪ рд╢рд┐рдХреНрд╖рд╛ рдХрд┐рд╕ рд╡рд┐рд╖рдп рдореЗрдВ рдФрд░ рдХрд┐рд╕ рдпреВрдирд┐рд╡рд░реНрд╕рд┐рдЯреА рд╕реЗ рдХреА рд╣реИ?",
    "5. рдЖрдкрдиреЗ рдЙрд╕ рдбрд┐рдЧреНрд░реА рдХреЛ рдХрд┐рд╕ рдорд╣реАрдиреЗ рдФрд░ рд╡рд░реНрд╖ рдореЗрдВ рдкреВрд░рд╛ рдХрд┐рдпрд╛ рдерд╛?",
    "6. рдЖрдкрдиреЗ рдХрд┐рддрдиреА рдХрдВрдкрдирд┐рдпреЛрдВ рдореЗрдВ рдХрд╛рдо рдХрд┐рдпрд╛ рд╣реИ?",
    "7. рдкрд╣рд▓реА рдХрдВрдкрдиреА рдХрд╛ рдирд╛рдо рдХреНрдпрд╛ рдерд╛ рдФрд░ рд╡рд╣рд╛рдБ рдЖрдкрдХрд╛ рдкрдж рдХреНрдпрд╛ рдерд╛?",
    "8. рдЖрдкрдиреЗ рдЙрд╕ рдХрдВрдкрдиреА рдореЗрдВ рдХрд┐рд╕ рдорд╣реАрдиреЗ рдФрд░ рд╡рд░реНрд╖ рд╕реЗ рдХрд┐рд╕ рдорд╣реАрдиреЗ рдФрд░ рд╡рд░реНрд╖ рддрдХ рдХрд╛рдо рдХрд┐рдпрд╛?",
    "9. рдЖрдкрдХреА рдореБрдЦреНрдп рдЬрд┐рдореНрдореЗрджрд╛рд░рд┐рдпрд╛рдБ рдХреНрдпрд╛ рдереАрдВ?",
    "10. рдХреНрдпрд╛ рдЖрдк рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдХрд┐рд╕реА рдХрдВрдкрдиреА рдореЗрдВ рдХрд╛рд░реНрдпрд░рдд рд╣реИрдВ?",
    "11. рд╡рд░реНрддрдорд╛рди рдХрдВрдкрдиреА рдХрд╛ рдирд╛рдо рдХреНрдпрд╛ рд╣реИ рдФрд░ рдЖрдкрдиреЗ рд╡рд╣рд╛рдБ рдХрдм рд╕реЗ рдХрд╛рдо рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд┐рдпрд╛?",
    "12. рдЖрдкрдХреА рд╡рд░реНрддрдорд╛рди рдЬреЙрдм рдкреНрд░реЛрдлрд╛рдЗрд▓ рдФрд░ рдЬрд┐рдореНрдореЗрджрд╛рд░рд┐рдпрд╛рдБ рдХреНрдпрд╛ рд╣реИрдВ?",
    "13. рдЖрдкрдХреА рдкреНрд░рдореБрдЦ рд╕реНрдХрд┐рд▓реНрд╕ рдХреНрдпрд╛ рд╣реИрдВ?",
    "14. рдЖрдк рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХреА рдиреМрдХрд░реА рдХреА рддрд▓рд╛рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ?"
]

DURATION = 15  # seconds per answer (adjust as needed)
FS = 44100     # Sample rate

print("ЁЯОд ResumeKaruAI - Record All Answers\n")
print("Instructions: After you hear each question, speak your answer clearly.")
print(f"Each answer will be recorded for {DURATION} seconds.\n")

for idx, question in enumerate(questions, 1):
    input(f"Press Enter to start recording for Question {idx}: {question}\n")
    print(f"ЁЯФ┤ Recording... (Q{idx})")
    recording = sd.rec(int(DURATION * FS), samplerate=FS, channels=1)
    sd.wait()
    filename = f"answer_{idx}.wav"
    wavio.write(filename, recording, FS, sampwidth=2)
    print(f"тЬЕ Saved as {filename}\n")
    time.sleep(1)

print("тЬЕ All 14 answers recorded! Proceed to transcription.")
